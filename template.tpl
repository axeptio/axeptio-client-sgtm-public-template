___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "CLIENT",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Axeptio",
  "categories": [
    "ANALYTICS"
  ],
  "brand": {
    "id": "Axeptio",
    "displayName": "Axeptio",
    "thumbnail": "data:image/png;base64,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\u003d\u003d"
  },
  "description": "Claim Axeptio requests",
  "containerContexts": [
    "SERVER"
  ]
}


___TEMPLATE_PARAMETERS___

[]


___SANDBOXED_JS_FOR_SERVER___

// Necessary APIs
const claimRequest = require('claimRequest');
const getRequestPath = require('getRequestPath'); 
const returnResponse = require('returnResponse');
const runContainer = require('runContainer');
const setPixelResponse = require('setPixelResponse');
const getRequestQueryParameters = require('getRequestQueryParameters');
const getRemoteAddress = require('getRemoteAddress');
const getRequestHeader = require('getRequestHeader');
const setResponseHeader = require('setResponseHeader');
const getTimestampMillis = require('getTimestampMillis');
const getRequestQueryString = require('getRequestQueryString');
const getRequestBody = require('getRequestBody');
const getRequestMethod = require('getRequestMethod');
const getCookie = require('getCookieValues');
const setCookie = require('setCookie');
const JSON = require('JSON');

const method = getRequestMethod();
// Get the request path for claiming the request
const requestPath = getRequestPath();  // Request Path

// Get the query string parameters and store them in an object
const queryParameters = getRequestQueryParameters();
// Get the full query string and store it as a string
const queryString = getRequestQueryString();
// Get the IP and store it in a variable
const ip = getRemoteAddress();
// Get the UA and store it in a variable
const ua = getRequestHeader('user-agent');
// Get the referrer and store it in a variable
const referer = getRequestHeader('referer');
// Get the timestamp and store it in a variable
const timestamp = getTimestampMillis();

// Get request body, store it in a variable, parse as JSON object
// Note that there might be some further parsing or structuring needed depending on the format of the request body
const requestBody = getRequestBody();
const requestBodyObject = JSON.parse(requestBody);

if (method === 'OPTIONS') {
  
  setPixelResponse();
    
  const origin = getRequestHeader('Origin');
  if (origin) {
    setResponseHeader('Access-Control-Allow-Origin', origin);
    setResponseHeader('Access-Control-Allow-Credentials', 'true');
    setResponseHeader('Access-Control-Allow-Headers', 'Content-Type');
  }
    
  returnResponse();
  
} else {
  
// Claim the request according to the Request Path input field
if (requestPath.indexOf('/consents') > -1) {

  claimRequest();
        
  // Create event data object
  const obj = {};
     

    obj.path = '/consents';
    obj.event_name = 'consents';
    
    const axeptio_authorized_vendors = getCookie('axeptio_authorized_vendors')[0];
    setCookie('axeptio_authorized_vendors', axeptio_authorized_vendors, {
      domain: 'auto',
      path: '/',
      secure: true,
      'max-age': 34187400,
      HttpOnly: false
    });
    
    const axeptio_all_vendors = getCookie('axeptio_all_vendors')[0];
    setCookie('axeptio_all_vendors', axeptio_all_vendors, {
      domain: 'auto',
      path: '/',
      secure: true,
      'max-age': 34187400,
      HttpOnly: false
    });
    
    const axeptio_cookies = getCookie('axeptio_cookies')[0];
    setCookie('axeptio_cookies', axeptio_cookies, {
      domain: 'auto',
      path: '/',
      secure: true,
      'max-age': 34187400,
      HttpOnly: false
    });
    
  // Add querystring parameters to event data object
  for (var parameter in queryParameters) {
    obj[parameter] = queryParameters[parameter];
  }
  
  obj.ip_override = ip;
  obj.user_agent = ua;
  obj.page_location = referer;
  obj.timestamp = timestamp;
  obj.requestPath = requestPath;
  obj.requestBody = requestBody;
  obj.requestBodyObject = requestBodyObject;
  obj.queryParameters = queryParameters;
  
  runContainer(obj, () => {
    // Make sure no CORS errors pop up with the response
    setPixelResponse();
    
    const origin = getRequestHeader('Origin');
    if (origin) {
      setResponseHeader('Access-Control-Allow-Origin', origin);
      setResponseHeader('Access-Control-Allow-Credentials', 'true');
      setResponseHeader('Access-Control-Allow-Headers', 'Content-Type');
    }
    
    returnResponse();
  });
}
}


___SERVER_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "read_request",
        "versionId": "1"
      },
      "param": [
        {
          "key": "requestAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "headerAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queryParameterAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "return_response",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_response",
        "versionId": "1"
      },
      "param": [
        {
          "key": "writeResponseAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "writeHeaderAccess",
          "value": {
            "type": 1,
            "string": "specific"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "run_container",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "cookieAccess",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "set_cookies",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedCookies",
          "value": {
            "type": 2,
            "listItem": [
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "axeptio_authorized_vendors"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "/"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "axeptio_cookies"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "/"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              },
              {
                "type": 3,
                "mapKey": [
                  {
                    "type": 1,
                    "string": "name"
                  },
                  {
                    "type": 1,
                    "string": "domain"
                  },
                  {
                    "type": 1,
                    "string": "path"
                  },
                  {
                    "type": 1,
                    "string": "secure"
                  },
                  {
                    "type": 1,
                    "string": "session"
                  }
                ],
                "mapValue": [
                  {
                    "type": 1,
                    "string": "axeptio_all_vendors"
                  },
                  {
                    "type": 1,
                    "string": "*"
                  },
                  {
                    "type": 1,
                    "string": "/"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  },
                  {
                    "type": 1,
                    "string": "any"
                  }
                ]
              }
            ]
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []
setup: ''


___NOTES___

Created on 4/26/2022, 10:51:05 AM


